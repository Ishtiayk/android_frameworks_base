<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" width="720" height="208pt" version="1.1" viewBox="20 17 540 208"><defs><font-face x-height="538.086" ascent="927.734" cap-height="720.703" descent="-244.141" font-family="Roboto" font-size="20" font-weight="500" panose-1="2 0 0 0 0 0 0 0 0 0" slope="0" underline-position="-73.242" underline-thickness="48.828" units-per-em="1000"><font-face-src><font-face-name name="Roboto-Regular"/></font-face-src></font-face><font-face x-height="538.086" ascent="927.734" cap-height="720.703" descent="-244.141" font-family="Roboto" font-size="12" font-weight="300" panose-1="2 0 0 0 0 0 0 0 0 0" slope="0" underline-position="-73.242" underline-thickness="48.828" units-per-em="1000"><font-face-src><font-face-name name="Roboto-Light"/></font-face-src></font-face><marker id="FilledArrow_Marker" color="#262626" markerHeight="4" markerUnits="strokeWidth" markerWidth="5" orient="auto" overflow="visible" viewBox="-4 -2 5 4"><g><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M -2.16 0 L 0 .81 L 0 -.81 Z"/></g></marker></defs><g fill="none" fill-opacity="1" stroke="none" stroke-dasharray="none" stroke-opacity="1"><title>MediaCodec buffer flow diagram</title><g><line x1="291" x2="290" y1="20" y2="220" stroke="#535353" stroke-dasharray="4 4" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/><path fill="#178f46" d="M 560 71 L 560 179 L 560 185 L 554 185 L 510 185 L 466 185 C 462.6863 185 460 182.31371 460 179 L 460 71 C 460 67.68629 462.6863 65 466 65 L 510 65 L 554 65 L 560 65 Z M 554 65 C 554 65 554 65 554 65 Z"/><text fill="#aadcc2" transform="translate(465 113)"><tspan x="19.556" y="19" fill="#aadcc2" font-family="Roboto" font-size="20" font-weight="500" textLength="50.889">Client</tspan></text><path fill="#346df1" d="M 246 75 L 334 75 C 337.3137 75 340 77.68629 340 81 L 340 169 C 340 172.31371 337.3137 175 334 175 L 246 175 C 242.68629 175 240 172.31371 240 169 L 240 81 C 240 77.68629 242.68629 75 246 75 Z"/><text fill="#bad0fb" transform="translate(245 113)"><tspan x="16.616" y="19" fill="#bad0fb" font-family="Roboto" font-size="20" font-weight="500" textLength="56.768">Codec</tspan></text><path fill="#de6560" d="M 132 140 L 148 140 C 149.10457 140 150 140.89543 150 142 L 150 158 C 150 159.10457 149.10457 160 148 160 L 132 160 C 130.89543 160 130 159.10457 130 158 L 130 142 C 130 140.89543 130.89543 140 132 140 Z"/><path stroke="#b6251f" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M 132 140 L 148 140 C 149.10457 140 150 140.89543 150 142 L 150 158 C 150 159.10457 149.10457 160 148 160 L 132 160 C 130.89543 160 130 159.10457 130 158 L 130 142 C 130 140.89543 130.89543 140 132 140 Z"/><path fill="#de6560" d="M 172 140 L 188 140 C 189.10457 140 190 140.89543 190 142 L 190 158 C 190 159.10457 189.10457 160 188 160 L 172 160 C 170.89543 160 170 159.10457 170 158 L 170 142 C 170 140.89543 170.89543 140 172 140 Z"/><path stroke="#b6251f" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M 172 140 L 188 140 C 189.10457 140 190 140.89543 190 142 L 190 158 C 190 159.10457 189.10457 160 188 160 L 172 160 C 170.89543 160 170 159.10457 170 158 L 170 142 C 170 140.89543 170.89543 140 172 140 Z"/><path fill="#de6560" d="M 212 140 L 228 140 C 229.10457 140 230 140.89543 230 142 L 230 158 C 230 159.10457 229.10457 160 228 160 L 212 160 C 210.89543 160 210 159.10457 210 158 L 210 142 C 210 140.89543 210.89543 140 212 140 Z"/><path stroke="#b6251f" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M 212 140 L 228 140 C 229.10457 140 230 140.89543 230 142 L 230 158 C 230 159.10457 229.10457 160 228 160 L 212 160 C 210.89543 160 210 159.10457 210 158 L 210 142 C 210 140.89543 210.89543 140 212 140 Z"/><path stroke="#b6251f" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M 212 90 L 228 90 C 229.10457 90 230 90.89543 230 92 L 230 108 C 230 109.10457 229.10457 110 228 110 L 212 110 C 210.89543 110 210 109.10457 210 108 L 210 92 C 210 90.89543 210.89543 90 212 90 Z"/><path stroke="#b6251f" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M 172 90 L 188 90 C 189.10457 90 190 90.89543 190 92 L 190 108 C 190 109.10457 189.10457 110 188 110 L 172 110 C 170.89543 110 170 109.10457 170 108 L 170 92 C 170 90.89543 170.89543 90 172 90 Z"/><path stroke="#b6251f" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M 132 90 L 148 90 C 149.10457 90 150 90.89543 150 92 L 150 108 C 150 109.10457 149.10457 110 148 110 L 132 110 C 130.89543 110 130 109.10457 130 108 L 130 92 C 130 90.89543 130.89543 90 132 90 Z"/><text fill="#262626" transform="translate(128.5 70.5)"><tspan x=".192" y="11" fill="#262626" font-family="Roboto" font-size="12" font-weight="300" textLength="86.443">empty input buff</tspan> <tspan x="86.495" y="11" fill="#262626" font-family="Roboto" font-size="12" font-weight="300" textLength="16.313">ers</tspan></text><path fill="#178f46" d="M 20 71 L 20 179 L 20 185 L 26 185 L 70 185 L 114 185 C 117.31371 185 120 182.31371 120 179 L 120 71 C 120 67.68629 117.31371 65 114 65 L 70 65 L 26 65 L 20 65 Z M 26 65 C 26 65 26 65 26 65 Z"/><text fill="#aadcc2" transform="translate(25 113)"><tspan x="19.556" y="19" fill="#aadcc2" font-family="Roboto" font-size="20" font-weight="500" textLength="50.889">Client</tspan></text><path fill="#f4c23d" d="M 352 110 L 368 110 C 369.10457 110 370 109.10457 370 108 L 370 92 C 370 90.89543 369.10457 90 368 90 L 352 90 C 350.89543 90 350 90.89543 350 92 L 350 108 C 350 109.10457 350.89543 110 352 110 Z"/><path stroke="#eb8007" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M 352 110 L 368 110 C 369.10457 110 370 109.10457 370 108 L 370 92 C 370 90.89543 369.10457 90 368 90 L 352 90 C 350.89543 90 350 90.89543 350 92 L 350 108 C 350 109.10457 350.89543 110 352 110 Z"/><path fill="#f4c23d" d="M 392 110 L 408 110 C 409.10457 110 410 109.10457 410 108 L 410 92 C 410 90.89543 409.10457 90 408 90 L 392 90 C 390.89543 90 390 90.89543 390 92 L 390 108 C 390 109.10457 390.89543 110 392 110 Z"/><path stroke="#eb8007" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M 392 110 L 408 110 C 409.10457 110 410 109.10457 410 108 L 410 92 C 410 90.89543 409.10457 90 408 90 L 392 90 C 390.89543 90 390 90.89543 390 92 L 390 108 C 390 109.10457 390.89543 110 392 110 Z"/><path fill="#f4c23d" d="M 432 110 L 448 110 C 449.10457 110 450 109.10457 450 108 L 450 92 C 450 90.89543 449.10457 90 448 90 L 432 90 C 430.89543 90 430 90.89543 430 92 L 430 108 C 430 109.10457 430.89543 110 432 110 Z"/><path stroke="#eb8007" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M 432 110 L 448 110 C 449.10457 110 450 109.10457 450 108 L 450 92 C 450 90.89543 449.10457 90 448 90 L 432 90 C 430.89543 90 430 90.89543 430 92 L 430 108 C 430 109.10457 430.89543 110 432 110 Z"/><path fill="#f4c23d" d="M 432 160 L 448 160 C 449.10457 160 450 159.10457 450 158 L 450 142 C 450 140.89543 449.10457 140 448 140 L 432 140 C 430.89543 140 430 140.89543 430 142 L 430 158 C 430 159.10457 430.89543 160 432 160 Z"/><path stroke="#eb8007" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M 432 160 L 448 160 C 449.10457 160 450 159.10457 450 158 L 450 142 C 450 140.89543 449.10457 140 448 140 L 432 140 C 430.89543 140 430 140.89543 430 142 L 430 158 C 430 159.10457 430.89543 160 432 160 Z"/><path fill="#f4c23d" d="M 392 160 L 408 160 C 409.10457 160 410 159.10457 410 158 L 410 142 C 410 140.89543 409.10457 140 408 140 L 392 140 C 390.89543 140 390 140.89543 390 142 L 390 158 C 390 159.10457 390.89543 160 392 160 Z"/><path stroke="#eb8007" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M 392 160 L 408 160 C 409.10457 160 410 159.10457 410 158 L 410 142 C 410 140.89543 409.10457 140 408 140 L 392 140 C 390.89543 140 390 140.89543 390 142 L 390 158 C 390 159.10457 390.89543 160 392 160 Z"/><path fill="#f4c23d" d="M 352 160 L 368 160 C 369.10457 160 370 159.10457 370 158 L 370 142 C 370 140.89543 369.10457 140 368 140 L 352 140 C 350.89543 140 350 140.89543 350 142 L 350 158 C 350 159.10457 350.89543 160 352 160 Z"/><path stroke="#eb8007" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M 352 160 L 368 160 C 369.10457 160 370 159.10457 370 158 L 370 142 C 370 140.89543 369.10457 140 368 140 L 352 140 C 350.89543 140 350 140.89543 350 142 L 350 158 C 350 159.10457 350.89543 160 352 160 Z"/><line x1="230" x2="110" y1="120.032" y2="120" stroke="#262626" stroke-dasharray="8 5" stroke-linecap="square" stroke-linejoin="round" stroke-width="2"/><line x1="232.38" x2="110" y1="130.03" y2="130" stroke="#262626" stroke-dasharray="8 5" stroke-linecap="square" stroke-linejoin="round" stroke-width="2" marker-start="url(#FilledArrow_Marker)"/><path stroke="#262626" stroke-dasharray="8 5" stroke-linecap="square" stroke-linejoin="round" stroke-width="2" d="M 110 130 C 107.238576 130 105 127.76142 105 125 C 105 122.238576 107.238576 120 110 120"/><line x1="350" x2="470" y1="120.532" y2="120.5" stroke="#262626" stroke-dasharray="8 5" stroke-linecap="square" stroke-linejoin="round" stroke-width="2"/><line x1="347.62" x2="470" y1="130.53" y2="130.5" stroke="#262626" stroke-dasharray="8 5" stroke-linecap="square" stroke-linejoin="round" stroke-width="2" marker-start="url(#FilledArrow_Marker)"/><path stroke="#262626" stroke-dasharray="8 5" stroke-linecap="square" stroke-linejoin="round" stroke-width="2" d="M 470 130.5 C 472.76142 130.5 475 128.26142 475 125.5 C 475 122.738576 472.76142 120.5 470 120.5"/><text fill="#262626" transform="translate(132.5 166.5)"><tspan x=".367" y="11" fill="#262626" font-family="Roboto" font-size="12" font-weight="300" textLength="6.445">fi</tspan> <tspan x="6.813" y="11" fill="#262626" font-family="Roboto" font-size="12" font-weight="300" textLength="71.648">lled input buff</tspan> <tspan x="78.32" y="11" fill="#262626" font-family="Roboto" font-size="12" font-weight="300" textLength="16.313">ers</tspan></text><text fill="#262626" transform="translate(348.5 70.5)"><tspan x=".424" y="11" fill="#262626" font-family="Roboto" font-size="12" font-weight="300" textLength="6.445">fi</tspan> <tspan x="6.869" y="11" fill="#262626" font-family="Roboto" font-size="12" font-weight="300" textLength="79.535">lled output buff</tspan> <tspan x="86.264" y="11" fill="#262626" font-family="Roboto" font-size="12" font-weight="300" textLength="16.313">ers</tspan></text><text fill="#262626" transform="translate(366.5 165)"><tspan x="11.748" y="11" fill="#262626" font-family="Roboto" font-size="12" font-weight="300" textLength="32.08">discar</tspan> <tspan x="43.717" y="11" fill="#262626" font-family="Roboto" font-size="12" font-weight="300" textLength="19.535">ded</tspan> <tspan x=".229" y="25" fill="#262626" font-family="Roboto" font-size="12" font-weight="300" textLength="58.371">output buff</tspan> <tspan x="58.459" y="25" fill="#262626" font-family="Roboto" font-size="12" font-weight="300" textLength="16.313">ers</tspan></text><text fill="#262626" transform="translate(35.5 192)"><tspan x=".134" y="11" fill="#262626" font-family="Roboto" font-size="12" font-weight="300" textLength="41.813">client pr</tspan> <tspan x="41.829" y="11" fill="#262626" font-family="Roboto" font-size="12" font-weight="300" textLength="6.721">o</tspan> <tspan x="48.462" y="11" fill="#262626" font-family="Roboto" font-size="12" font-weight="300" textLength="27.404">vides</tspan> <tspan x="11.662" y="25" fill="#262626" font-family="Roboto" font-size="12" font-weight="300" textLength="52.676">input data</tspan></text><text fill="#262626" transform="translate(466.5 192)"><tspan x=".401" y="11" fill="#262626" font-family="Roboto" font-size="12" font-weight="300" textLength="86.197">client consumes</tspan> <tspan x="13.219" y="25" fill="#262626" font-family="Roboto" font-size="12" font-weight="300" textLength="60.563">output data</tspan></text><text fill="#d02d2a" transform="translate(157.5 30)"><tspan x=".166" y="19" fill="#d02d2a" font-family="Roboto" font-size="20" font-weight="500" textLength="44.668">input</tspan></text><text fill="#f0a608" transform="translate(371 30)"><tspan x=".128" y="19" fill="#f0a608" font-family="Roboto" font-size="20" font-weight="500" textLength="57.744">output</tspan></text></g></g></svg>